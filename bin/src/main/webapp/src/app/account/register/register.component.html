<div class="row justify-content-center">
  <div class="col-md-4">
    <h1>Inscription</h1>

    <div class="alert alert-success" *ngIf="success">
      <strong>Votre compte a été crée !</strong> Vous pouvez vous connectez par ici
      <a [routerLink]="['/']">Vous pouvez vous connectez par ici</a>
    </div>

    <div class="alert alert-danger" *ngIf="error">
      <strong>Echec lors de la création d e votre compte!</strong> Veuillez réessayer.
    </div>

    <div class="alert alert-danger" *ngIf="errorUserExists">
      <strong>Ce login est dèjà utilisé !</strong> Veuillez choisir un autre.
    </div>

    <div class="alert alert-danger" *ngIf="errorEmailExists">
      <strong>Cette adresse email est déjà utilisé !</strong> Veuillez choisir un autre.
    </div>

    <div class="alert alert-danger" *ngIf="doNotMatch">
      Les mots de passe ne correspondents pas !
    </div>
  </div>
</div>
<div class="row justify-content-center">
  <div class="col-md-4">
    <form name="form" role="form" (ngSubmit)="register()" #registerForm="ngForm" *ngIf="!success">
      <div class="form-group">
        <label for="lastname">Nom</label>
        <input type="text" class="form-control" [(ngModel)]="registerAccount.lastName" id="lastname" name="lastname" #lastname="ngModel" placeholder="Votre Nom" required>
        <div *ngIf="lastname.dirty && lastname.invalid">
          <small class="form-text text-danger" *ngIf="lastname.errors.required">
                      Votre Nom est obligatoire
                    </small>
        </div>
      </div>

      <div class="form-group">
        <label for="firstname">Prenom</label>
        <input type="text" class="form-control" [(ngModel)]="registerAccount.firstName" id="firstname" name="firstname" #firstname="ngModel" placeholder="Votre Prenom" required>
        <div *ngIf="firstname.dirty && firstname.invalid">
          <small class="form-text text-danger" *ngIf="firstname.errors.required">
                      Votre Prenom est obligatoire
                    </small>
        </div>
      </div>

      <div class="form-group">
        <label class="form-control-label" for="login">Login</label>
        <input type="text" class="form-control" [(ngModel)]="registerAccount.login" id="login" name="login" #login="ngModel" placeholder="Votre Login" required minlength="1" maxlength="50" pattern="^[_'.@A-Za-z0-9-]*$">
        <div *ngIf="login.dirty && login.invalid">
          <small class="form-text text-danger" *ngIf="login.errors.required">
                            Votre login est obligatoire.
                        </small>
          <small class="form-text text-danger" *ngIf="login.errors.minlength">
                            Votre login doit contenir au moins un caractère.
                        </small>
          <small class="form-text text-danger" *ngIf="login.errors.maxlength">
                            Votre login ne peut excéder 50 caractères.
                        </small>
          <small class="form-text text-danger" *ngIf="login.errors.pattern">
                            Votre login ne peut contenir que des miniscules et des chiffres.
                        </small>
        </div>
      </div>
      <div class="form-group">
        <label class="form-control-label" for="email">Email</label>
        <div class="input-group">
          <span class="input-group-addon" id="basic-addon1">@</span>
          <input type="email" class="form-control" id="email" name="email" #email="ngModel" placeholder="Votre email" [(ngModel)]="registerAccount.email" minlength=5 maxlength=100 email required>
        </div>
        <div *ngIf="email.dirty && email.invalid">
          <small class="form-text text-danger" *ngIf="email.errors.required">
                            Votre email est obligatoire.
                        </small>
          <small class="form-text text-danger" *ngIf="email.errors.invalid">
                            Votre email n'est pas invalide.
                        </small>

        </div>
      </div>
      <div class="form-group">
        <label class="form-control-label" for="password">Mot de passe</label>
        <input type="password" class="form-control" id="password" name="password" #password="ngModel" placeholder="Mot de passe" [(ngModel)]="registerAccount.password" minlength=8 maxlength=50 required>
        <div *ngIf="password.dirty && password.invalid">
          <small class="form-text text-danger" *ngIf="password.errors.required">
                            Votre mot de passe est obligatoire.
                        </small>
          <small class="form-text text-danger" *ngIf="password.errors.minlength">
                            Votre mot de passe doit contenir au moins 8 charactères.
                        </small>
          <small class="form-text text-danger" *ngIf="password.errors.maxlength">
                            Votre mot de passe ne peut dépasser 50 charactères.
                        </small>
        </div>
      </div>
      <div class="form-group">
        <label class="form-control-label" for="confirmPassword">Confirmation du mot de passe</label>
        <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" #confirmPasswordInput="ngModel" placeholder="Confirmer le mot de passe" [(ngModel)]="confirmPassword" minlength=8 maxlength=50 required>
        <div *ngIf="confirmPasswordInput.dirty && confirmPasswordInput.invalid">
          <small class="form-text text-danger" *ngIf="confirmPasswordInput.errors.required">
                            La confirmation du mot de passe est obligatoire.
                        </small>
          <small class="form-text text-danger" *ngIf="confirmPasswordInput.errors.minlength">
                            La confirmation mot de passe doit contenir au moins 8 charactères.
                        </small>
          <small class="form-text text-danger" *ngIf="confirmPasswordInput.errors.maxlength">
                            La confirmation mot de passe ne peut dépasser 50 charactères.
                        </small>
        </div>
      </div>

      <button type="submit" [disabled]="registerForm.form.invalid" class="btn btn-success">Valider</button>
      <button type="submit" [disabled]="registerForm.form.invalid" class="btn btn-danger">Annuler</button>
    </form>
  </div>
</div>
